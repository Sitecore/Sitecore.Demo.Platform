---
ID: "7e31dee2-80a7-466a-8250-6ca164531f1a"
Parent: "594d7d33-1176-417b-864a-e8810e5d2946"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: "/sitecore/media library/Themes/Habitat Sites/Habitat Home/scripts/component-snippet"
DB: master
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/D4EA39B9D7284558BD1BF299E505CF50.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "ac2910f6-2278-45a3-8aa4-aeacb88257e9"
  Value: WEEuY29tcG9uZW50LnNuaXBwZXQgPSAoZnVuY3Rpb24gKCQpIHsNCg0KICAgIHZhciBwdWIgPSB7fSwNCiAgICAgICAgaW5zdGFuY2U7DQogICAgdmFyIGlzRmxpcEluc2lkZSA9IGZ1bmN0aW9uIChpbnN0YW5jZSkgew0KICAgICAgICByZXR1cm4gISFpbnN0YW5jZS5maW5kKCcuY29tcG9uZW50LmZsaXAnKS5sZW5ndGgNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBkaXNhYmxlRW1wdHlTbmlwcGV0KCRzbmlwcGV0cykgew0KICAgICAgICB2YXIgZW1wdHlQbGFjZWhvbGRlcnMgPSAkc25pcHBldHMuZmluZCgiLnNjRW1wdHlQbGFjZWhvbGRlciIpLA0KICAgICAgICAgICAgaSwgbGVuZ3RoLCBoLA0KICAgICAgICAgICAgcGFyZW50LA0KICAgICAgICAgICAgJHBsYWNlaG9sZGVyLA0KICAgICAgICAgICAgcGxhY2Vob2xkZXJJZCwNCiAgICAgICAgICAgIHBsYWNlaG9sZGVyS2V5LA0KICAgICAgICAgICAgZWRpdEZyYW1lLA0KICAgICAgICAgICAgY2hyb21lS2V5Ow0KDQogICAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGVtcHR5UGxhY2Vob2xkZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAkcGxhY2Vob2xkZXIgPSAkKGVtcHR5UGxhY2Vob2xkZXJzW2ldKTsNCiAgICAgICAgICAgIHBsYWNlaG9sZGVySWQgPSAkcGxhY2Vob2xkZXIuYXR0cigic2MtcGxhY2Vob2xkZXItaWQiKTsNCg0KICAgICAgICAgICAgLy9kaXNhYmxlIGVkaXQgZnJhbWVzDQogICAgICAgICAgICB2YXIgcGxhY2Vob2xkZXJDb2RlVGFnID0gJHBsYWNlaG9sZGVyLnNpYmxpbmdzKCJjb2RlW2Nocm9tZXR5cGU9J3BsYWNlaG9sZGVyJ11baWQ9JyIgKyBwbGFjZWhvbGRlcklkICsgIiddIik7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyS2V5ID0gcGxhY2Vob2xkZXJDb2RlVGFnLmF0dHIoImtleSIpOw0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKHBsYWNlaG9sZGVyS2V5KSA9PT0gInN0cmluZyIpIHsNCiAgICAgICAgICAgICAgICAgICAgZWRpdEZyYW1lID0gU2l0ZWNvcmUuUGFnZU1vZGVzLkNocm9tZU1hbmFnZXIuY2hyb21lcygpLmZpbHRlcihmdW5jdGlvbiAoY2hyb21lKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjaHJvbWVLZXkgPSBjaHJvbWUub3BlbmluZ01hcmtlcigpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjaHJvbWVLZXkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGNocm9tZUtleSA9IGNocm9tZUtleS5hdHRyKCJrZXkiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgKGNocm9tZUtleSkgIT09ICJ1bmRlZmluZWQiICYmIGNocm9tZUtleS5pbmRleE9mKHBsYWNlaG9sZGVyS2V5KSA9PT0gMDsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAgICAgZWRpdEZyYW1lWzBdLnR5cGUuY2hyb21lLmRhdGEuY3VzdG9tLmVkaXRhYmxlID0gImZhbHNlIjsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0aHJvdyA2NjY7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAvL2ZhbGxiYWNrIC0gZGVsZXRlIGNvZGUgdGFncyB0byBwcmV2ZW50IGluc2VydGluZyBpbnRvIHBsYWNlaG9sZGVycw0KICAgICAgICAgICAgICAgICRwbGFjZWhvbGRlci5zaWJsaW5ncygiY29kZVtjaHJvbWV0eXBlPSdwbGFjZWhvbGRlciddIikucmVtb3ZlKCk7DQogICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqLw0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJDb3VsZCBub3QgZGlzYWJsZSBlZGl0aW5nIGZvciBwbGFjZWhvbGRlciIsIGUpOw0KICAgICAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqLw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvL2FkanVzdCBoZWlnaHQsIGFuZCByZW1vdmUgcGxhY2Vob2xkZXIgImRhc2hlZCIgYmFja2dyb3VuZA0KICAgICAgICAgICAgcGFyZW50ID0gJHBsYWNlaG9sZGVyLnBhcmVudHMoIi5zbmlwcGV0LWNvbnRhaW5lciIpOw0KICAgICAgICAgICAgaCA9IHBhcnNlSW50KHBhcmVudC5jc3MoImZvbnQtc2l6ZSIpKSAqIDIgfHwgKCRwbGFjZWhvbGRlci5oZWlnaHQoKSAvIDMpOw0KICAgICAgICAgICAgJHBsYWNlaG9sZGVyLmFwcGVuZCgkKCI8cD5bTm8gY29tcG9uZW50cyBpbiBzbmlwcGV0XTwvcD4iKSk7DQogICAgICAgICAgICBoICs9ICJweCI7DQogICAgICAgICAgICAkcGxhY2Vob2xkZXIucmVtb3ZlQ2xhc3MoInNjRW1wdHlQbGFjZWhvbGRlciIpOw0KICAgICAgICAgICAgJHBsYWNlaG9sZGVyLmNzcygiaGVpZ2h0IiwgaCk7DQoNCiAgICAgICAgICAgIC8vc2V0IGVkaXQgaGVyZSB0ZXh0DQoNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHB1Yi5pbml0ID0gZnVuY3Rpb24gKCkgew0KICAgICAgICB2YXIgJHNuaXBwZXRzID0gJCgiLnNuaXBwZXQ6bm90KC5pbml0aWFsaXplZCkiKTsNCiAgICAgICAgJHNuaXBwZXRzLmVhY2goZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyICR0YWJNb2R1bGUgPSAkKHRoaXMpLmZpbmQoIi5zbmlwcGV0LWlubmVyIik7DQogICAgICAgICAgICBpbnN0YW5jZSA9ICQodGhpcyk7DQoNCiAgICAgICAgICAgIGRpc2FibGVFbXB0eVNuaXBwZXQoJHRhYk1vZHVsZSk7DQogICAgICAgICAgICBpZiAoaXNGbGlwSW5zaWRlKGluc3RhbmNlKSkgew0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIFhBLmNvbXBvbmVudC5mbGlwLmVxdWFsU2lkZUhlaWdodChpbnN0YW5jZSkNCiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi8NCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdFcnJvciBkdXJpbmcgY2FsY3VsYXRpb24gaGVpZ2h0IG9mIEZsaXAgbGlzdCBpbiB0b2dnbGUnKTsgLy8ganNoaW50IGlnbm9yZTpsaW5lDQogICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqLw0KDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygiaW5pdGlhbGl6ZWQiKTsNCiAgICAgICAgfSk7DQogICAgfQ0KDQogICAgcmV0dXJuIHB1YjsNCn0oalF1ZXJ5KSk7DQoNClhBLnJlZ2lzdGVyKCJzbmlwcGV0IiwgWEEuY29tcG9uZW50LnNuaXBwZXQpOw==
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 3319
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20171004T083446Z
  - Version: 2
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20171004T083446Z
