---
ID: "f8723823-45b6-4f53-bfb8-b375145aa3b4"
Parent: "594d7d33-1176-417b-864a-e8810e5d2946"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: "/sitecore/media library/Themes/Habitat Sites/Habitat Home/scripts/component-google-map"
DB: master
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/6C2FB87C2A8F4001A94331D4A8AB2AF1.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "710bdb62-af68-4b24-b95b-2df674bb3a03"
  Value: 77u/LyogVGhpcyBjb2RlIGNvbWVzIGZyb20gaHR0cDovL3RyYWMuc2l0ZWNvcmUubmV0L0dvb2dsZU1hcHMNCmFuZCBoYXMgYmVlbiBtb2RpZmllZCB0byBtYXRjaCBYQUNvbnRleHQgSlMgRnJhbWV3b3JrIGd1aWRlbGluZXMgKi8NCi8qZ2xvYmFsIGdvb2dsZTpmYWxzZSAqLw0KWEEuY29tcG9uZW50LkdNYXAgPSAoZnVuY3Rpb24oJCwgZG9jdW1lbnQpIHsNCiAgICB2YXIgYXBpID0ge30sDQogICAgICAgIG1hcERhdGEgPSBbXSwNCiAgICAgICAgbWFwID0gW10sDQogICAgICAgIG1hcExvYWRlZCA9IGZhbHNlOw0KDQogICAgZnVuY3Rpb24gcHVzaE1hcChtYXApIHsNCiAgICAgICAgbWFwRGF0YS5wdXNoKG1hcCk7DQogICAgfQ0KDQogICAgLy8gaW5pdGlhbGl6ZXMgdGhlIEdvb2dsZSBNYXBzIGJ5IHRyYW5zbGF0aW5nIHRoZSBzZXJpYWxpemVkIFNpdGVjb3JlIA0KICAgIC8vIGl0ZW1zIGludG8gR29vZ2xlIE1hcHMgb2JqZWN0cw0KICAgIGFwaS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7DQogICAgICAgIC8vIGV4dGVuZCB0aGUgZ29vZ2xlIG1hcHMgb2JqZWN0IHRvIGFkZCBhIHBvaW50ZXIgdG8gdGhlIGN1cnJlbnQgaW5mbyB3aW5kb3cNCiAgICAgICAgLy8gYW5kIGEgZnVuY3Rpb24gdG8gY2xvc2UgdGhlIGN1cnJlbnQgaW5mbyB3aW5kb3cNCiAgICAgICAgZ29vZ2xlLm1hcHMuTWFwLnByb3RvdHlwZS5sYXRlc3RJbmZvV2luZG93Ow0KICAgICAgICBnb29nbGUubWFwcy5NYXAucHJvdG90eXBlLmNsb3NlSW5mb1dpbmRvdyA9IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgaWYgKHRoaXMubGF0ZXN0SW5mb1dpbmRvdyAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdEluZm9XaW5kb3cuY2xvc2UoKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICB9Ow0KDQogICAgICAgIC8vIGluaXRpYWxpemUgYWxsIG1hcHMgb24gdGhlIHBhZ2UNCiAgICAgICAgZm9yICh2YXIgbWFwQ291bnQgPSAwOyBtYXBDb3VudCA8IG1hcERhdGEubGVuZ3RoOyBtYXBDb3VudCsrKSB7DQogICAgICAgICAgICAvLyBmaWd1cmUgb3V0IHRoZSBpbml0aWFsIG1hcCB0eXBlIChmaXJzdCBvbmUgaW4gdGhlIGxpc3Qgb3IgZGVmYXVsdCB0byBhIHJvYWRtYXAgaWYgbm90aGluZydzIGRlZmluZWQpDQogICAgICAgICAgICB2YXIgYWxsb3dlZE1hcFR5cGVzID0gbmV3IEFycmF5KCksDQogICAgICAgICAgICAgICAgaW5pdGlhbE1hcFR5cGU7DQogICAgICAgICAgICBpZiAobWFwRGF0YVttYXBDb3VudF0uTWFwVHlwZXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgIGluaXRpYWxNYXBUeXBlID0gZXZhbChtYXBEYXRhW21hcENvdW50XS5NYXBUeXBlc1swXSk7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBtYXBEYXRhW21hcENvdW50XS5NYXBUeXBlcy5sZW5ndGg7IGsrKykgew0KICAgICAgICAgICAgICAgICAgICBhbGxvd2VkTWFwVHlwZXMucHVzaChldmFsKG1hcERhdGFbbWFwQ291bnRdLk1hcFR5cGVzW2tdKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBpbml0aWFsTWFwVHlwZSA9IGdvb2dsZS5tYXBzLk1hcFR5cGVJZC5ST0FETUFQOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBpbml0aWFsIG1hcCBvcHRpb25zDQogICAgICAgICAgICB2YXIgbWFwT3B0aW9ucyA9IHsNCiAgICAgICAgICAgICAgICBjZW50ZXI6IG5ldyBnb29nbGUubWFwcy5MYXRMbmcobWFwRGF0YVttYXBDb3VudF0uQ2VudGVyLkxhdGl0dWRlLCBtYXBEYXRhW21hcENvdW50XS5DZW50ZXIuTG9uZ2l0dWRlKSwNCiAgICAgICAgICAgICAgICBkaXNhYmxlRGVmYXVsdFVJOiBtYXBEYXRhW21hcENvdW50XS5EaXNhYmxlQWxsRGVmYXVsdFVJRWxlbWVudHMsDQogICAgICAgICAgICAgICAgZGlzYWJsZURvdWJsZUNsaWNrWm9vbTogIW1hcERhdGFbbWFwQ291bnRdLkVuYWJsZURvdWJsZUNsaWNrWm9vbSwNCiAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IG1hcERhdGFbbWFwQ291bnRdLkVuYWJsZURyYWdnaW5nLA0KICAgICAgICAgICAgICAgIGRyYWdnYWJsZUN1cnNvcjogbWFwRGF0YVttYXBDb3VudF0uRHJhZ2dhYmxlQ3Vyc29yLA0KICAgICAgICAgICAgICAgIGRyYWdnaW5nQ3Vyc29yOiBtYXBEYXRhW21hcENvdW50XS5EcmFnZ2luZ0N1cnNvciwNCiAgICAgICAgICAgICAgICBrZXlib2FyZFNob3J0Y3V0czogbWFwRGF0YVttYXBDb3VudF0uRW5hYmxlS2V5Ym9hcmRGdW5jdGlvbmFsaXR5LA0KICAgICAgICAgICAgICAgIG1hcFR5cGVDb250cm9sT3B0aW9uczogew0KICAgICAgICAgICAgICAgICAgICBtYXBUeXBlSWRzOiBhbGxvd2VkTWFwVHlwZXMNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIG1hcFR5cGVJZDogaW5pdGlhbE1hcFR5cGUsDQogICAgICAgICAgICAgICAgbWF4Wm9vbTogbWFwRGF0YVttYXBDb3VudF0uTWF4Wm9vbUxldmVsLA0KICAgICAgICAgICAgICAgIG1pblpvb206IG1hcERhdGFbbWFwQ291bnRdLk1pblpvb21MZXZlbCwNCiAgICAgICAgICAgICAgICBvdmVydmlld01hcENvbnRyb2w6IG1hcERhdGFbbWFwQ291bnRdLkVuYWJsZU92ZXJ2aWV3LA0KICAgICAgICAgICAgICAgIG92ZXJ2aWV3TWFwQ29udHJvbE9wdGlvbnM6IHsNCiAgICAgICAgICAgICAgICAgICAgb3BlbmVkOiBtYXBEYXRhW21hcENvdW50XS5FbmFibGVPdmVydmlldw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgcGFuQ29udHJvbDogbWFwRGF0YVttYXBDb3VudF0uRW5hYmxlUGFuQ29udHJvbCwNCiAgICAgICAgICAgICAgICBzY2FsZUNvbnRyb2w6IG1hcERhdGFbbWFwQ291bnRdLkVuYWJsZVNjYWxlQ29udHJvbCwNCiAgICAgICAgICAgICAgICBzY3JvbGx3aGVlbDogbWFwRGF0YVttYXBDb3VudF0uRW5hYmxlU2Nyb2xsV2hlZWxab29tLA0KICAgICAgICAgICAgICAgIHN0cmVldFZpZXdDb250cm9sOiBtYXBEYXRhW21hcENvdW50XS5FbmFibGVTdHJlZXRWaWV3Q29udHJvbCwNCiAgICAgICAgICAgICAgICB6b29tOiBtYXBEYXRhW21hcENvdW50XS5ab29tLA0KICAgICAgICAgICAgICAgIHpvb21Db250cm9sOiBtYXBEYXRhW21hcENvdW50XS5FbmFibGVab29tQ29udHJvbA0KICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgLy8gaW5pdGlhbGl6ZSB0aGUgbWFwDQogICAgICAgICAgICBtYXAucHVzaChuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1hcERhdGFbbWFwQ291bnRdLkNhbnZhc0lEKSwgbWFwT3B0aW9ucykpOw0KDQogICAgICAgICAgICAvLyBhZGQgbWFya2VyLCBsaW5lcyBhbmQgcG9seWdvbnMgYXMgYXJyYXlzIG9uIHRoZSBtYXAgb2JqZWN0IHRvIHN1cHBvcnQgbXVsdGlwbGUgbWFwcyBwZXIgcGFnZQ0KICAgICAgICAgICAgbWFwW21hcENvdW50XS5tYXJrZXJzID0gW107DQogICAgICAgICAgICBtYXBbbWFwQ291bnRdLmxpbmVzID0gW107DQogICAgICAgICAgICBtYXBbbWFwQ291bnRdLnBvbHlnb25zID0gW107DQoNCg0KICAgICAgICAgICAgLy8gY2xvc2UgYW55IG9wZW4gaW5mbyB3aW5kb3dzIHdoZW4gY2xpY2tpbmcgb24gdGhlIG1hcA0KICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFwW21hcENvdW50XSwgJ2NsaWNrJywgZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgdGhpcy5jbG9zZUluZm9XaW5kb3coKTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAvLyBpbml0aWFsaXplIGFsbCBtYXJrZXJzICAgICAgICANCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFwRGF0YVttYXBDb3VudF0uTWFya2Vycy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgIHZhciBtID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7DQogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKG1hcERhdGFbbWFwQ291bnRdLk1hcmtlcnNbaV0uUG9zaXRpb24uTGF0aXR1ZGUsIG1hcERhdGFbbWFwQ291bnRdLk1hcmtlcnNbaV0uUG9zaXRpb24uTG9uZ2l0dWRlKSwNCiAgICAgICAgICAgICAgICAgICAgbWFwOiBtYXBbbWFwQ291bnRdLA0KICAgICAgICAgICAgICAgICAgICB0aXRsZTogbWFwRGF0YVttYXBDb3VudF0uTWFya2Vyc1tpXS5UaXRsZQ0KICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgbS5pbmZvd2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3coew0KICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBtYXBEYXRhW21hcENvdW50XS5NYXJrZXJzW2ldLkluZm9XaW5kb3cNCiAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgIG1hcFttYXBDb3VudF0ubWFya2Vycy5wdXNoKG0pOw0KDQogICAgICAgICAgICAgICAgaWYgKG1hcERhdGFbbWFwQ291bnRdLk1hcmtlcnNbaV0uSW5mb1dpbmRvdy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG0sICdjbGljaycsIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAuY2xvc2VJbmZvV2luZG93KCk7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZm93aW5kb3cub3Blbih0aGlzLm1hcCwgdGhpcyk7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5sYXRlc3RJbmZvV2luZG93ID0gdGhpcy5pbmZvd2luZG93Ow0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKG1hcERhdGFbbWFwQ291bnRdLk1hcmtlcnNbaV0uQ3VzdG9tSWNvbiAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgbS5pY29uID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlckltYWdlKG1hcERhdGFbbWFwQ291bnRdLk1hcmtlcnNbaV0uQ3VzdG9tSWNvbi5JbWFnZVVSTCwNCiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBnb29nbGUubWFwcy5TaXplKG1hcERhdGFbbWFwQ291bnRdLk1hcmtlcnNbaV0uQ3VzdG9tSWNvbi5JbWFnZURpbWVuc2lvbnMuV2lkdGgsIG1hcERhdGFbbWFwQ291bnRdLk1hcmtlcnNbaV0uQ3VzdG9tSWNvbi5JbWFnZURpbWVuc2lvbnMuSGVpZ2h0KSwNCiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBnb29nbGUubWFwcy5Qb2ludCgwLCAwKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBnb29nbGUubWFwcy5Qb2ludChtYXBEYXRhW21hcENvdW50XS5NYXJrZXJzW2ldLkN1c3RvbUljb24uQW5jaG9yLlgsIG1hcERhdGFbbWFwQ291bnRdLk1hcmtlcnNbaV0uQ3VzdG9tSWNvbi5BbmNob3IuWSkpOw0KDQogICAgICAgICAgICAgICAgICAgIGlmIChtYXBEYXRhW21hcENvdW50XS5NYXJrZXJzW2ldLkN1c3RvbUljb24uU2hhZG93VVJMICE9IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbS5zaGFkb3cgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VySW1hZ2UobWFwRGF0YVttYXBDb3VudF0uTWFya2Vyc1tpXS5DdXN0b21JY29uLlNoYWRvd1VSTCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgZ29vZ2xlLm1hcHMuU2l6ZShtYXBEYXRhW21hcENvdW50XS5NYXJrZXJzW2ldLkN1c3RvbUljb24uU2hhZG93RGltZW5zaW9ucy5XaWR0aCwgbWFwRGF0YVttYXBDb3VudF0uTWFya2Vyc1tpXS5DdXN0b21JY29uLlNoYWRvd0RpbWVuc2lvbnMuSGVpZ2h0KSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgZ29vZ2xlLm1hcHMuUG9pbnQoMCwgMCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IGdvb2dsZS5tYXBzLlBvaW50KG1hcERhdGFbbWFwQ291bnRdLk1hcmtlcnNbaV0uQ3VzdG9tSWNvbi5TaGFkb3dBbmNob3IuWCwgbWFwRGF0YVttYXBDb3VudF0uTWFya2Vyc1tpXS5DdXN0b21JY29uLlNoYWRvd0FuY2hvci5ZKSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKG1hcERhdGFbbWFwQ291bnRdLk1hcmtlcnNbaV0uQ3VzdG9tSWNvbi5DbGlja2FibGVQb2x5Z29uICE9IHVuZGVmaW5lZCAmJiBtYXBEYXRhW21hcENvdW50XS5NYXJrZXJzW2ldLkN1c3RvbUljb24uQ2xpY2thYmxlUG9seWdvbi5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29vcmRzID0gIlsiICsgbWFwRGF0YVttYXBDb3VudF0uTWFya2Vyc1tpXS5DdXN0b21JY29uLkNsaWNrYWJsZVBvbHlnb24gKyAiXSI7DQogICAgICAgICAgICAgICAgICAgICAgICBtLnNoYXBlID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkOiBldmFsKGNvb3JkcyksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3BvbHknDQogICAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBpbml0aWFsaXplIGFsbCBsaW5lcw0KICAgICAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCBtYXBEYXRhW21hcENvdW50XS5MaW5lcy5sZW5ndGg7IHQrKykgew0KICAgICAgICAgICAgICAgIHZhciBsaW5lT3B0aW9ucyA9IHsNCiAgICAgICAgICAgICAgICAgICAgcGF0aDogW10sIC8vbmV3IEFycmF5KCksDQogICAgICAgICAgICAgICAgICAgIHN0cm9rZUNvbG9yOiBtYXBEYXRhW21hcENvdW50XS5MaW5lc1t0XS5TdHJva2VDb2xvciwNCiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogbWFwRGF0YVttYXBDb3VudF0uTGluZXNbdF0uU3Ryb2tlT3BhY2l0eSwNCiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2VpZ2h0OiBtYXBEYXRhW21hcENvdW50XS5MaW5lc1t0XS5TdHJva2VXZWlnaHQsDQogICAgICAgICAgICAgICAgICAgIGNsaWNrYWJsZTogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIG1hcDogbWFwW21hcENvdW50XQ0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtYXBEYXRhW21hcENvdW50XS5MaW5lc1t0XS5Qb2ludHMubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICAgICAgICAgICAgbGluZU9wdGlvbnMucGF0aC5wdXNoKG5ldyBnb29nbGUubWFwcy5MYXRMbmcobWFwRGF0YVttYXBDb3VudF0uTGluZXNbdF0uUG9pbnRzW2pdLkxhdGl0dWRlLCBtYXBEYXRhW21hcENvdW50XS5MaW5lc1t0XS5Qb2ludHNbal0uTG9uZ2l0dWRlKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHZhciBsaW5lID0gbmV3IGdvb2dsZS5tYXBzLlBvbHlsaW5lKGxpbmVPcHRpb25zKTsNCiAgICAgICAgICAgICAgICBtYXBbbWFwQ291bnRdLmxpbmVzLnB1c2gobGluZSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIGluaXRpYWxpemUgYWxsIHBvbHlnb25zDQogICAgICAgICAgICBmb3IgKHZhciBpbyA9IDA7IGkgPCBtYXBEYXRhW21hcENvdW50XS5Qb2x5Z29ucy5sZW5ndGg7IGlvKyspIHsNCiAgICAgICAgICAgICAgICB2YXIgcG9seU9wdGlvbnMgPSB7DQogICAgICAgICAgICAgICAgICAgIHBhdGhzOiBbXSwgLy9uZXcgQXJyYXkoKSwNCiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6IG1hcERhdGFbbWFwQ291bnRdLlBvbHlnb25zW2lvXS5TdHJva2VDb2xvciwNCiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogbWFwRGF0YVttYXBDb3VudF0uUG9seWdvbnNbaW9dLlN0cm9rZU9wYWNpdHksDQogICAgICAgICAgICAgICAgICAgIHN0cm9rZVdlaWdodDogbWFwRGF0YVttYXBDb3VudF0uUG9seWdvbnNbaW9dLlN0cm9rZVdlaWdodCwNCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiBtYXBEYXRhW21hcENvdW50XS5Qb2x5Z29uc1tpb10uRmlsbENvbG9yLA0KICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogbWFwRGF0YVttYXBDb3VudF0uUG9seWdvbnNbaW9dLkZpbGxPcGFjaXR5LA0KICAgICAgICAgICAgICAgICAgICBjbGlja2FibGU6IG1hcERhdGFbbWFwQ291bnRdLlBvbHlnb25zW2lvXS5DbGlja2FibGUsDQogICAgICAgICAgICAgICAgICAgIG1hcDogbWFwW21hcENvdW50XQ0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgZm9yICh2YXIgam8gPSAwOyBqbyA8IG1hcERhdGFbbWFwQ291bnRdLlBvbHlnb25zW2lvXS5Qb2ludHMubGVuZ3RoOyBqbysrKSB7DQogICAgICAgICAgICAgICAgICAgIHBvbHlPcHRpb25zLnBhdGhzLnB1c2gobmV3IGdvb2dsZS5tYXBzLkxhdExuZyhtYXBEYXRhW21hcENvdW50XS5Qb2x5Z29uc1tpb10uUG9pbnRzW2pvXS5MYXRpdHVkZSwgbWFwRGF0YVttYXBDb3VudF0uUG9seWdvbnNbaW9dLlBvaW50c1tqb10uTG9uZ2l0dWRlKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHZhciBwb2x5ID0gbmV3IGdvb2dsZS5tYXBzLlBvbHlnb24ocG9seU9wdGlvbnMpOw0KICAgICAgICAgICAgICAgIG1hcFttYXBDb3VudF0ucG9seWdvbnMucHVzaChwb2x5KTsNCg0KICAgICAgICAgICAgICAgIC8vIGFkZCBpbmZvIHdpbmRvdw0KICAgICAgICAgICAgICAgIGlmIChwb2x5T3B0aW9ucy5jbGlja2FibGUgJiYgbWFwRGF0YVttYXBDb3VudF0uUG9seWdvbnNbaW9dLkluZm9XaW5kb3cubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBwb2x5LmluZm93aW5kb3cgPSBuZXcgZ29vZ2xlLm1hcHMuSW5mb1dpbmRvdyh7DQogICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBtYXBEYXRhW21hcENvdW50XS5Qb2x5Z29uc1tpb10uSW5mb1dpbmRvdw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFwW21hcENvdW50XS5wb2x5Z29uc1tpb10sICdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5jbG9zZUluZm9XaW5kb3coKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5mb3dpbmRvdy5zZXRQb3NpdGlvbihldmVudC5sYXRMbmcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmZvd2luZG93Lm9wZW4odGhpcy5tYXApOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAubGF0ZXN0SW5mb1dpbmRvdyA9IHRoaXMuaW5mb3dpbmRvdzsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfTsNCg0KDQogICAgZnVuY3Rpb24gbG9hZEdNYXAoKSB7DQogICAgICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsNCiAgICAgICAgc2NyaXB0LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JzsNCiAgICAgICAgc2NyaXB0LnNyYyA9ICcvL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvanM/c2Vuc29yPWZhbHNlJmNhbGxiYWNrPVhBLmNvbXBvbmVudC5HTWFwLmluaXRpYWxpemUnOw0KICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7DQoNCiAgICAgICAgbWFwTG9hZGVkID0gdHJ1ZTsNCiAgICB9DQoNCiAgICBhcGkuaW5pdCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICB2YXIgZ21hcCA9ICQoIi5tYXAuY29tcG9uZW50Om5vdCguaW5pdGlhbGl6ZWQpIik7DQoNCiAgICAgICAgaWYgKGdtYXAubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgaWYgKCFtYXBMb2FkZWQpIHsNCiAgICAgICAgICAgICAgICBsb2FkR01hcCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgZ21hcC5lYWNoKGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgdmFyIHByb3BlcnRpZXMgPSAkKHRoaXMpLmRhdGEoInByb3BlcnRpZXMiKTsNCiAgICAgICAgICAgIHB1c2hNYXAocHJvcGVydGllcyk7DQoNCiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoImluaXRpYWxpemVkIik7DQogICAgICAgIH0pOw0KICAgIH07DQoNCiAgICByZXR1cm4gYXBpOw0KfShqUXVlcnksIGRvY3VtZW50KSk7DQoNClhBLnJlZ2lzdGVyKCJnbWFwIiwgWEEuY29tcG9uZW50LkdNYXApOw==
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 10069
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20160811T135343Z
  - Version: 2
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20160811T135343Z
