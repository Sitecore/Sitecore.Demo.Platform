---
ID: "19e889e7-f15e-4164-a54c-b81877949f1f"
Parent: "594d7d33-1176-417b-864a-e8810e5d2946"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: "/sitecore/media library/Themes/Habitat Sites/Habitat Home/scripts/component-video"
DB: master
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/3692231E4900411A9F1995465EDFDCF9.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "01842120-f4f6-4c88-b1b6-1f3631db04df"
  Value: LyogZ2xvYmFsIFhBQ29udGV4dDpmYWxzZSwgTWVkaWFFbGVtZW50UGxheWVyOmZhbHNlICovDQpYQS5jb21wb25lbnQudmlkZW8gPSAoZnVuY3Rpb24oJCwgZG9jdW1lbnQpIHsNCg0KICAgIHZhciBhcGkgPSB7fTsNCg0KICAgIGZ1bmN0aW9uIGNoZWNrU2l6ZSh2aWRlbykgew0KICAgICAgICB2YXIgdmlkZW9XaWR0aCA9IHZpZGVvLndpZHRoKCk7DQogICAgICAgIHZpZGVvLnJlbW92ZUNsYXNzKCJ2aWRlby1zbWFsbCBoaWRlLWNvbnRyb2xzIik7DQoNCiAgICAgICAgaWYgKCh2aWRlb1dpZHRoIDwgNDgxKSAmJiAodmlkZW9XaWR0aCA+PSAzMjEpKSB7DQogICAgICAgICAgICB2aWRlby5hZGRDbGFzcygidmlkZW8tc21hbGwiKTsNCiAgICAgICAgfSBlbHNlIGlmICh2aWRlb1dpZHRoIDwgMzIxKSB7DQogICAgICAgICAgICB2aWRlby5hZGRDbGFzcygiaGlkZS1jb250cm9scyIpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gY2hlY2tJRTExKCkgew0KICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvVHJpZGVudFwvNy4wLykpIHsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGluaXRWaWRlbyh2aWRlbywgcHJvcGVydGllcykgew0KICAgICAgICB2YXIgY29udGVudCA9IHZpZGVvLmZpbmQoInZpZGVvIik7DQoNCiAgICAgICAgaWYgKCFjb250ZW50Lmxlbmd0aCkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKCFtb3ZpZVRyYWNrZXIpIHsNCiAgICAgICAgICAgIHZhciBtb3ZpZVRyYWNrZXIgPSBYQUNvbnRleHQuVHJhY2tpbmcuTW92aWVzKCQpOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24obWVkaWFFbGVtZW50KSB7DQogICAgICAgICAgICBtZWRpYUVsZW1lbnQubW92aWVOYW1lID0gJ01vdmllJzsNCiAgICAgICAgICAgIG1vdmllVHJhY2tlci5yZWdpc3Rlcih7DQogICAgICAgICAgICAgICAgbmFtZTogJ01vdmllJywNCiAgICAgICAgICAgICAgICBhcGk6IG1lZGlhRWxlbWVudCwNCiAgICAgICAgICAgICAgICB0cmFja2VySWQ6ICdtZWpzJywNCiAgICAgICAgICAgICAgICBjb21wbGV0ZWRUaW1lOiBudWxsDQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgJChtZWRpYUVsZW1lbnQpLm9uKCJlbmRlZCIsIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLmZyb21QbGF5bGlzdCkgew0KICAgICAgICAgICAgICAgICAgICAkKHByb3BlcnRpZXMucGxheWxpc3QpLnRyaWdnZXIoImNoYW5nZS12aWRlbyIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgJChtZWRpYUVsZW1lbnQpLmNsb3Nlc3QoJy5jb21wb25lbnQtY29udGVudCcpLmZpbmQoJy52aWRlby1pbml0JykuaGlkZSgpOw0KICAgICAgICB9DQoNCiAgICAgICAgJC5leHRlbmQocHJvcGVydGllcywgew0KICAgICAgICAgICAgInBsdWdpbnMiOiBbJ3lvdXR1YmUnLCAnZmxhc2gnLCAnc2lsdmVybGlnaHQnXSwNCiAgICAgICAgICAgICJzaWx2ZXJsaWdodE5hbWUiOiAnc2lsdmVybGlnaHRtZWRpYWVsZW1lbnQueGFwJywNCiAgICAgICAgICAgICJjbGFzc1ByZWZpeCI6ICJtZWpzLSIsDQogICAgICAgICAgICAic3VjY2VzcyI6IGNhbGxiYWNrLA0KICAgICAgICAgICAgc3RyZXRjaGluZzogJ2F1dG8nLA0KICAgICAgICAgICAgcGx1Z2luUGF0aDogJy4uL290aGVyLycNCiAgICAgICAgfSk7DQoNCiAgICAgICAgaWYgKGNoZWNrSUUxMSgpKSB7DQogICAgICAgICAgICBwcm9wZXJ0aWVzID0gbnVsbDsNCiAgICAgICAgfQ0KDQogICAgICAgIGNvbnRlbnQuZWFjaChmdW5jdGlvbihrZXkpIHsNCiAgICAgICAgICAgIHZhciAkZWxlbSA9ICQoY29udGVudFtrZXldKSwNCiAgICAgICAgICAgICAgICBfdGhpcyA9IHRoaXM7DQogICAgICAgICAgICBpZiAoJGVsZW0uYXR0cigncG9zdGVyJykpIHsNCiAgICAgICAgICAgICAgICB2YXIgaW5pdEJ0biA9ICRlbGVtLnBhcmVudCgpLmZpbmQoJy52aWRlby1pbml0Jyk7DQogICAgICAgICAgICAgICAgJGVsZW0uYWRkKGluaXRCdG4pLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnN1Y2Nlc3MgPSAoZnVuY3Rpb24oYXJnKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzWzBdLmxvYWQoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNbMF0ucGxheSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqLw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIHdoaWxlIGxvYWRpbmcgdmlkZW8nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSAgKi8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJnLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSkocHJvcGVydGllcy5zdWNjZXNzKQ0KICAgICAgICAgICAgICAgICAgICBpbml0QnRuLmhpZGUoKTsNCiAgICAgICAgICAgICAgICAgICAgbmV3IE1lZGlhRWxlbWVudFBsYXllcihfdGhpcywgcHJvcGVydGllcyk7DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgbmV3IE1lZGlhRWxlbWVudFBsYXllcihjb250ZW50W2tleV0sIHByb3BlcnRpZXMpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0pDQogICAgICAgIHJldHVybjsNCiAgICB9DQoNCiAgICBhcGkuaW5pdFZpZGVvRnJvbVBsYXlsaXN0ID0gZnVuY3Rpb24odmlkZW8sIHBsYXlsaXN0KSB7DQogICAgICAgIHZhciBwcm9wZXJ0aWVzID0gJCh2aWRlbykuZGF0YSgicHJvcGVydGllcyIpOw0KDQogICAgICAgICQuZXh0ZW5kKHByb3BlcnRpZXMsIHsNCiAgICAgICAgICAgICJmcm9tUGxheWxpc3QiOiB0cnVlLA0KICAgICAgICAgICAgInBsYXlsaXN0IjogcGxheWxpc3QNCiAgICAgICAgfSk7DQoNCiAgICAgICAgcmV0dXJuIGluaXRWaWRlbyh2aWRlbywgcHJvcGVydGllcyk7DQogICAgfQ0KDQoNCiAgICBhcGkuaW5pdCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICBpZiAoWEEuY29tcG9uZW50Lmhhc093blByb3BlcnR5KCJwbGF5bGlzdCIpKSB7DQogICAgICAgICAgICBYQS5jb21wb25lbnQucGxheWxpc3QuaW5pdCgpOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIHZpZGVvID0gJCgiLnZpZGVvLmNvbXBvbmVudDpub3QoLmluaXRpYWxpemVkKSIpOw0KDQogICAgICAgIHZpZGVvLmVhY2goZnVuY3Rpb24oKSB7DQogICAgICAgICAgICB2YXIgcHJvcGVydGllcyA9ICQodGhpcykuZGF0YSgicHJvcGVydGllcyIpOw0KDQogICAgICAgICAgICBpbml0VmlkZW8oJCh0aGlzKSwgcHJvcGVydGllcyk7DQogICAgICAgICAgICBjaGVja1NpemUoJCh0aGlzKSk7DQoNCiAgICAgICAgICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgY2hlY2tTaXplKCQodGhpcykpOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoImluaXRpYWxpemVkIik7DQogICAgICAgIH0pOw0KDQogICAgICAgICQoZG9jdW1lbnQpLm9uKCdtb3pmdWxsc2NyZWVuY2hhbmdlJywgZnVuY3Rpb24oKSB7DQogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICQod2luZG93KS5yZXNpemUoKTsNCiAgICAgICAgICAgIH0sIDIwMCk7IC8vbW96aWxsYSBidWcgZml4DQogICAgICAgIH0pOw0KICAgIH07DQoNCiAgICByZXR1cm4gYXBpOw0KfShqUXVlcnksIGRvY3VtZW50KSk7DQoNClhBLnJlZ2lzdGVyKCJ2aWRlbyIsIFhBLmNvbXBvbmVudC52aWRlbyk7
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 4164
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20160811T135343Z
  - Version: 2
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20160811T135343Z
