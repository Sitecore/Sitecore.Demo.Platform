---
ID: "eb9317ff-a853-4db5-a2b1-09357a02af1b"
Parent: "78a53b2d-1e7c-4ba6-b363-d20aafec7a42"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: "/sitecore/media library/Themes/Habitat Sites/Habitat Home/scripts/details-polyfill"
DB: master
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/E1E078BE18F847BF9ECD446B2D2D25F0.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "a64ba300-5c41-45b8-895a-5edb6b5dcba3"
  Value: 77u/LyoNCkRldGFpbHMgRWxlbWVudCBQb2x5ZmlsbCAxLjEuMA0KQ29weXJpZ2h0IMKpIDIwMTcgSmF2YW4gTWFraG1hbGkNCiAqLw0KKGZ1bmN0aW9uKCkge30pLmNhbGwodGhpcyksDQogICAgZnVuY3Rpb24oKSB7DQogICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuZ2V0QXR0cmlidXRlKCdjbGFzcycpLmluZGV4T2YoJ29uLXBhZ2UtZWRpdG9yJykgPiAtMSkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIHQsIGUsIG4sIHIsIG8sIHUsIGksIGEsIGwsIGM7DQogICAgICAgIGEgPSB7DQogICAgICAgICAgICAgICAgZWxlbWVudDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciB0LCBlLCBuLCByLCBvOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRldGFpbHMiKSwgIm9wZW4iIGluIGUgPyAoZS5pbm5lckhUTUwgPSAiPHN1bW1hcnk+YTwvc3VtbWFyeT5iIiwgZS5zZXRBdHRyaWJ1dGUoInN0eWxlIiwgInBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogLTk5OTlweCIpLCByID0gbnVsbCAhPSAobyA9IGRvY3VtZW50LmJvZHkpID8gbyA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgci5hcHBlbmRDaGlsZChlKSwgdCA9IGUub2Zmc2V0SGVpZ2h0LCBlLm9wZW4gPSAhMCwgbiA9IGUub2Zmc2V0SGVpZ2h0LCByLnJlbW92ZUNoaWxkKGUpLCB0ICE9PSBuKSA6ICExDQogICAgICAgICAgICAgICAgfSgpLA0KICAgICAgICAgICAgICAgIHRvZ2dsZUV2ZW50OiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHQ7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGV0YWlscyIpLCAib250b2dnbGUiIGluIHQNCiAgICAgICAgICAgICAgICB9KCkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBhLmVsZW1lbnQgJiYgYS50b2dnbGVFdmVudCB8fCAobyA9IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuaGVhZC5pbnNlcnRBZGphY2VudEhUTUwoImFmdGVyYmVnaW4iLCAnPHN0eWxlPkBjaGFyc2V0IlVURi04IjtkZXRhaWxzOm5vdChbb3Blbl0pPio6bm90KHN1bW1hcnkpe2Rpc3BsYXk6bm9uZTt9ZGV0YWlscz5zdW1tYXJ5e2Rpc3BsYXk6YmxvY2s7fWRldGFpbHM+c3VtbWFyeTo6YmVmb3Jle2NvbnRlbnQ6Ilx1MjViYSI7cGFkZGluZy1yaWdodDowLjNyZW07Zm9udC1zaXplOjAuNnJlbTtjdXJzb3I6ZGVmYXVsdDt9ZGV0YWlsc1tvcGVuXT5zdW1tYXJ5OjpiZWZvcmV7Y29udGVudDoiXHUyNWJjIjt9PC9zdHlsZT4nKQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgciA9IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgdCwgZSwgbiwgciwgbzsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkZXRhaWxzIikuY29uc3RydWN0b3IucHJvdG90eXBlLCByID0gdC5zZXRBdHRyaWJ1dGUsIG4gPSB0LnJlbW92ZUF0dHJpYnV0ZSwgbyA9IG51bGwgIT0gKGUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsICJvcGVuIikpID8gZS5zZXQgOiB2b2lkIDAsIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW46IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICJERVRBSUxTIiA9PT0gdGhpcy50YWdOYW1lID8gKHQgPyB0aGlzLnNldEF0dHJpYnV0ZSgib3BlbiIsICIiKSA6IHRoaXMucmVtb3ZlQXR0cmlidXRlKCJvcGVuIiksIHQpIDogbnVsbCAhPSBvID8gby5jYWxsKHRoaXMsIHQpIDogdm9pZCAwDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldEF0dHJpYnV0ZTogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbih0LCBlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjKHRoaXMsIGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gci5jYWxsKG4sIHQsIGUpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0odGhpcykpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUF0dHJpYnV0ZTogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjKHRoaXMsIGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbi5jYWxsKGUsIHQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0odGhpcykpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0sIHUgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4oZnVuY3Rpb24odCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQuaGFzQXR0cmlidXRlKCJvcGVuIikgPyB0LnJlbW92ZUF0dHJpYnV0ZSgib3BlbiIpIDogdC5zZXRBdHRyaWJ1dGUoIm9wZW4iLCAiIikNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9LCBpID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciB0Ow0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gInVuZGVmaW5lZCIgIT0gdHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXIgJiYgbnVsbCAhPT0gTXV0YXRpb25PYnNlcnZlciA/ICh0ID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24odCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGUsIG4sIHIsIG8sIHUsIGk7DQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHUgPSBbXSwgbiA9IDAsIHIgPSB0Lmxlbmd0aDsgciA+IG47IG4rKykgbyA9IHRbbl0sIGkgPSBvLnRhcmdldCwgZSA9IG8uYXR0cmlidXRlTmFtZSwgIkRFVEFJTFMiID09PSBpLnRhZ05hbWUgJiYgIm9wZW4iID09PSBlID8gdS5wdXNoKGwoaSkpIDogdS5wdXNoKHZvaWQgMCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdQ0KICAgICAgICAgICAgICAgICAgICB9KSwgdC5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgew0KICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogITAsDQogICAgICAgICAgICAgICAgICAgICAgICBzdWJ0cmVlOiAhMA0KICAgICAgICAgICAgICAgICAgICB9KSkgOiBuKGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUgPSB0LmdldEF0dHJpYnV0ZSgib3BlbiIpLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0LmdldEF0dHJpYnV0ZSgib3BlbiIpICE9PSBlID8gbCh0KSA6IHZvaWQgMA0KICAgICAgICAgICAgICAgICAgICAgICAgfSwgMSkNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9LCB0ID0gZnVuY3Rpb24odCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gISh0LmRlZmF1bHRQcmV2ZW50ZWQgfHwgdC53aGljaCA+IDEgfHwgdC5hbHRLZXkgfHwgdC5jdHJsS2V5IHx8IHQubWV0YUtleSB8fCB0LnNoaWZ0S2V5IHx8IHQudGFyZ2V0LmlzQ29udGVudEVkaXRhYmxlKQ0KICAgICAgICAgICAgICAgIH0sIG4gPSBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBhZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKHIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvLCB1Ow0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQocikgJiYgKG8gPSBlKHIudGFyZ2V0LCAiU1VNTUFSWSIpKSAmJiAiREVUQUlMUyIgPT09IChudWxsICE9ICh1ID0gby5wYXJlbnRFbGVtZW50KSA/IHUudGFnTmFtZSA6IHZvaWQgMCkgPyBuKG8ucGFyZW50RWxlbWVudCkgOiB2b2lkIDANCiAgICAgICAgICAgICAgICAgICAgfSwgITEpDQogICAgICAgICAgICAgICAgfSwgZSA9IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gImZ1bmN0aW9uIiA9PSB0eXBlb2YgRWxlbWVudC5wcm90b3R5cGUuY2xvc2VzdCA/IGZ1bmN0aW9uKHQsIGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0LmNsb3Nlc3QoZSkNCiAgICAgICAgICAgICAgICAgICAgfSA6IGZ1bmN0aW9uKHQsIGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoOyB0Oykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0LnRhZ05hbWUgPT09IGUpIHJldHVybiB0Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgPSB0LnBhcmVudEVsZW1lbnQNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0oKSwgbCA9IGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGU7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50cyIpLCBlLmluaXRFdmVudCgidG9nZ2xlIiwgITAsICExKSwgdC5kaXNwYXRjaEV2ZW50KGUpDQogICAgICAgICAgICAgICAgfSwgYyA9IGZ1bmN0aW9uKHQsIGUpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG4sIHI7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBuID0gdC5nZXRBdHRyaWJ1dGUoIm9wZW4iKSwgciA9IGUoKSwgdC5nZXRBdHRyaWJ1dGUoIm9wZW4iKSAhPT0gbiAmJiBsKHQpLCByDQogICAgICAgICAgICAgICAgfSwgYS5lbGVtZW50IHx8IChvKCksIHIoKSwgdSgpKSwgYS5lbGVtZW50ICYmICFhLnRvZ2dsZUV2ZW50ICYmIGkoKSkNCiAgICB9LmNhbGwodGhpcyksDQogICAgZnVuY3Rpb24oKSB7fS5jYWxsKHRoaXMpOw==
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 5416
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20171027T191016Z
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        sitecore\virtualssuser
  - Version: 2
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20171027T191016Z
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        sitecore\virtualssuser
